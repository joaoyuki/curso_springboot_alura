<!doctype html><html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <title>Utilizando a anotação @bean</title>
  <meta name="generator" content="CherryTree">
  <link rel="stylesheet" href="res/styles3.css" type="text/css" />
  
    <script type="text/javascript">
        function in_frame () { try { return window.self !== window.top; } catch (e) { return true; } }
        if (!in_frame()) {
            var page = location.pathname.substring(location.pathname.lastIndexOf("/") + 1);
            window.location = 'index.html#' + page;
        }
    </script>
</head>
<body><div class="page"><h1 class="title">Utilizando a anotação @bean</h1><br/><div class="codebox">Oi&nbsp;João,<br /><br />O&nbsp;@Bean&nbsp;serve&nbsp;para&nbsp;exportar&nbsp;uma&nbsp;classe&nbsp;para&nbsp;o&nbsp;Spring,&nbsp;para&nbsp;que&nbsp;ele&nbsp;consiga&nbsp;carregar&nbsp;essa&nbsp;classe&nbsp;e&nbsp;fazer&nbsp;injeção&nbsp;de&nbsp;dependência&nbsp;dela&nbsp;em&nbsp;outra&nbsp;classes.<br /><br />Geralmente&nbsp;quando&nbsp;precisamos&nbsp;criar&nbsp;uma&nbsp;classe&nbsp;que&nbsp;o&nbsp;Spring&nbsp;vai&nbsp;gerenciar,&nbsp;basta&nbsp;criar&nbsp;a&nbsp;classe&nbsp;e&nbsp;anota-la&nbsp;com&nbsp;alguma&nbsp;anotação&nbsp;<span style="color:#a52a2a;font-weight:700">do</span>&nbsp;Spring(@controller,&nbsp;@service,&nbsp;etc.).&nbsp;Por&nbsp;exemplo:<br /><br />@Service<br /><span style="color:#2e8b57;font-weight:700">public</span>&nbsp;<span style="color:#2e8b57;font-weight:700">class</span>&nbsp;CalculadorDeImposto&nbsp;{<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#0000ff;font-weight:400">//metodos</span><br /><br />}<br />Como&nbsp;a&nbsp;classe&nbsp;anterior&nbsp;foi&nbsp;anotada&nbsp;com&nbsp;@Service,&nbsp;o&nbsp;Spring&nbsp;consegue&nbsp;fazer&nbsp;o&nbsp;carregamento&nbsp;dela&nbsp;e&nbsp;com&nbsp;isso&nbsp;podemos&nbsp;a&nbsp;injetar&nbsp;em&nbsp;outras&nbsp;classes.&nbsp;Por&nbsp;exemplo:<br /><br />@Controller<br /><span style="color:#2e8b57;font-weight:700">public</span>&nbsp;<span style="color:#2e8b57;font-weight:700">class</span>&nbsp;VendaController&nbsp;{<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;@Autowired<br />&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#2e8b57;font-weight:700">private</span>&nbsp;CalculadorDeImposto&nbsp;calculadorDeImposto;<br />}<br />Na&nbsp;classe&nbsp;controller&nbsp;anterior&nbsp;conseguimos&nbsp;injetar&nbsp;a&nbsp;classe&nbsp;CalculadorDeImposto&nbsp;normalmente,&nbsp;pois&nbsp;o&nbsp;Spring&nbsp;conhece&nbsp;essa&nbsp;classe,&nbsp;já&nbsp;que&nbsp;a&nbsp;anotamos&nbsp;com&nbsp;@Service.<br /><br />Mas&nbsp;o&nbsp;problema&nbsp;é&nbsp;quando&nbsp;temos&nbsp;alguma&nbsp;classe&nbsp;que&nbsp;não&nbsp;é&nbsp;nossa&nbsp;e&nbsp;queremos&nbsp;que&nbsp;o&nbsp;Spring&nbsp;também&nbsp;consiga&nbsp;a&nbsp;injetar.&nbsp;Por&nbsp;exemplo,&nbsp;uma&nbsp;classe&nbsp;que&nbsp;pertence&nbsp;à&nbsp;alguma&nbsp;biblioteca&nbsp;que&nbsp;você&nbsp;esteja&nbsp;utilizando&nbsp;no&nbsp;projeto.<br /><br />Nesse&nbsp;caso&nbsp;não&nbsp;tem&nbsp;como&nbsp;colocar&nbsp;a&nbsp;anotação&nbsp;@Service&nbsp;em&nbsp;cima&nbsp;da&nbsp;classe,&nbsp;pois&nbsp;ela&nbsp;não&nbsp;é&nbsp;uma&nbsp;classe&nbsp;nossa,&nbsp;que&nbsp;pertence&nbsp;ao&nbsp;nosso&nbsp;projeto,&nbsp;mas&nbsp;sim&nbsp;uma&nbsp;classe&nbsp;de&nbsp;uma&nbsp;biblioteca&nbsp;que&nbsp;não&nbsp;temos&nbsp;acesso.<br /><br />O&nbsp;jeito&nbsp;então&nbsp;é&nbsp;criar&nbsp;um&nbsp;método&nbsp;que&nbsp;cria&nbsp;manualmente&nbsp;uma&nbsp;instancia&nbsp;dessa&nbsp;classe:<br /><br />@Configuration<br /><span style="color:#2e8b57;font-weight:700">public</span>&nbsp;<span style="color:#2e8b57;font-weight:700">class</span>&nbsp;Configuracoes&nbsp;{<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#2e8b57;font-weight:700">public</span>&nbsp;ClasseDaBiblioteca&nbsp;criarObjetoDaBiblioteca()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#a52a2a;font-weight:700">return</span>&nbsp;<span style="color:#a52a2a;font-weight:700">new</span>&nbsp;ClasseDaBiblioteca();<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br /><br />}<br />E&nbsp;para&nbsp;que&nbsp;o&nbsp;spring&nbsp;possa&nbsp;gerenciar&nbsp;esse&nbsp;objeto&nbsp;que&nbsp;criamos&nbsp;no&nbsp;método,&nbsp;para&nbsp;que&nbsp;assim&nbsp;a&nbsp;gente&nbsp;consiga&nbsp;o&nbsp;injetar&nbsp;em&nbsp;outras&nbsp;classes,&nbsp;precisamos&nbsp;anotar&nbsp;o&nbsp;método&nbsp;com&nbsp;@Bean:<br /><br />@Bean<br /><span style="color:#2e8b57;font-weight:700">public</span>&nbsp;ClasseDaBiblioteca&nbsp;criarObjetoDaBiblioteca()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#a52a2a;font-weight:700">return</span>&nbsp;<span style="color:#a52a2a;font-weight:700">new</span>&nbsp;ClasseDaBiblioteca();<br />}<br />Pronto!&nbsp;agora&nbsp;já&nbsp;é&nbsp;possível&nbsp;injetar&nbsp;essa&nbsp;classe&nbsp;via&nbsp;spring:<br /><br />@Controller<br /><span style="color:#2e8b57;font-weight:700">public</span>&nbsp;<span style="color:#2e8b57;font-weight:700">class</span>&nbsp;VendaController&nbsp;<span style="color:#000000;font-weight:700">{</span><br /><br />&nbsp;&nbsp;&nbsp;&nbsp;@Autowired<br />&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#2e8b57;font-weight:700">private</span>&nbsp;CalculadorDeImposto&nbsp;calculadorDeImposto;<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;@Autowired<br />&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#2e8b57;font-weight:700">private</span>&nbsp;ClasseDaBiblioteca&nbsp;classeDaBiblioteca;<br />}</div></div></body></html>